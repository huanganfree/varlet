import{_ as O,e as l,m as i,p as _,d as E,W as D,X as T,b as k,L as V,N as x,O as U,M as q,P as M,f as G,w as A,R as $,x as I,r as u,g,c as h,C as H,o as Y,G as z,q as y,Y as F,U as C,t as W,l as X,a as S,n as j}from"./index-ba2bae36.js";import{A as J}from"./AppHeader-fc5f677c.js";const K={name:"AppMobile",props:{componentName:{type:String},language:{type:String},replace:{type:String},hash:{type:String}}};const Q={class:"varlet-site-mobile varlet-site-mobile--375"},Z={class:"varlet-site-mobile-content"},ee=["src"];function ae(b,r,s,o,f,a){return l(),i("div",Q,[_("div",Z,[_("iframe",{id:"mobile",src:`./mobile.html#/${s.componentName}?language=${s.language}&platform=pc&replace=${s.replace}${s.hash?`#${s.hash}`:""}`},null,8,ee)])])}const te=O(K,[["render",ae]]),ne={class:"varlet-site-sidebar var-elevation--3"},se=["href"],oe=_("span",{class:"varlet-site-sidebar__indicator"},null,-1),le={key:0,class:"varlet-site-sidebar__item--title"},ce={key:1},ie=E({__name:"AppSidebar",props:{menu:{},menuName:{},language:{}},emits:["change"],setup(b,{emit:r}){const s=b,o=D(T),f=a=>{a.type===T.TITLE||s.menuName===a.doc||r("change",a)};return(a,d)=>{const p=k("var-cell"),m=V("ripple");return l(),i("div",ne,[(l(!0),i(x,null,U(a.menu,(t,w)=>(l(),i("a",{class:"varlet-site-sidebar__link",key:w,href:`#/${a.language}/${t.doc}`,onClick:d[0]||(d[0]=q(()=>{},["prevent"]))},[M((l(),G(p,{class:I(["varlet-site-sidebar__item",{"varlet-site-sidebar__item--active":t.doc===a.menuName,"varlet-site-sidebar__cell":t.type!==o.TITLE,"varlet-site-sidebar__title":t.type===o.TITLE}]),id:t.doc,onClick:N=>f(t)},{default:A(()=>[oe,t.type===o.TITLE?(l(),i("span",le,$(t.text[a.language]),1)):(l(),i("span",ce,$(t.text[a.language]),1))]),_:2},1032,["id","class","onClick"])),[[m,{disabled:t.type===o.TITLE}]])],8,se))),128))])}}});const re={class:"varlet-site"},ue={class:"varlet-site-content"},_e={class:"varlet-site-playground-container"},de=["src"],me=E({__name:"Layout",setup(b){const r=X,s=u(g(h,"pc.menu",[])),o=u(g(h,"useMobile")),f=g(h,"mobile.redirect"),a=u(""),d=u(),p=u(""),m=u(""),t=u(null),w=H(),N=e=>{const n=s.value.find(c=>c.doc===e);return(n==null?void 0:n.type)===T.COMPONENT?e:f.slice(1)},B=()=>{const{menuName:e}=S();j(()=>{const n=document.querySelector(".varlet-site-sidebar").getElementsByClassName("var-cell"),c=s.value.findIndex(v=>v.doc===e);c!==-1&&n[c].scrollIntoView({block:"center",inline:"start"})})},P=e=>{t.value.scrollTop=0,d.value=N(e.doc),p.value=e.doc,m.value=""},L=()=>{const e="VARLET_UI_PLAYGROUND_HAS_BEEN_CLOSED";!localStorage.getItem(e)&&!window.confirm("The code will no longer be saved after closing. Are you sure you want to close?")||(localStorage.setItem(e,"true"),r.showPlayground=!1)};return Y(()=>{B(),window.addEventListener("message",e=>{const{data:n}=e;n.action==="playground-close"&&L()})}),z(()=>w.path,()=>{var v;const{language:e,menuName:n,hash:c}=S();!e||!n||(d.value=N(n),p.value=n,m.value=c,a.value=e,o.value=((v=s.value.find(R=>R.doc===n))==null?void 0:v.useMobile)??g(h,"useMobile"),document.title=g(h,"pc.title")[e])},{immediate:!0}),(e,n)=>{const c=k("router-view"),v=k("var-popup");return l(),i(x,null,[_("div",re,[y(J,{language:a.value},null,8,["language"]),_("div",ue,[y(ie,{language:a.value,menu:s.value,"menu-name":p.value,onChange:P},null,8,["language","menu","menu-name"]),_("div",{class:I(["varlet-site-doc-container",[!o.value&&"varlet-site-doc-container--pc-only"]]),ref_key:"doc",ref:t},[y(c)],2),M(y(te,{"component-name":d.value,language:a.value,replace:p.value,hash:m.value},null,8,["component-name","language","replace","hash"]),[[F,o.value]])])]),y(v,{position:"right",show:C(r).showPlayground,onClickOverlay:L},{default:A(()=>[_("div",_e,[C(r).showPlayground?(l(),i("iframe",{key:0,id:"playground",class:"varlet-site-playground-iframe",src:C(r).playgroundURL,allow:"clipboard-write"},`
      `,8,de)):W("",!0)])]),_:1},8,["show"])],64)}}});export{me as default};
