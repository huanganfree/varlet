import{v as q}from"./index-fde800b6.js";import{I as A}from"./index-6ea553c6.js";import{B as Q}from"./index-220522c5.js";import{d as R,f as Y,c as Z,a as H,w as G}from"./logger-9a144f5d.js";import{a as y,b as J,e as K}from"./elements-1fb47fa1.js";import{u as X}from"./zIndex-d095b494.js";import{u as _}from"./lock-783c0ea8.js";import{d as x,a as o,b as ee,w as oe,n as ae,_ as te,p as F,af as le,D as ne,f as n,h as i,M as z,O as r,N as a,R as p,j as u,Q as T,q as L,S as ie,ag as se}from"./vue-router-547718df.js";const re={src:String,fit:{type:String,default:"cover"},imageHeight:[String,Number],imageWidth:[String,Number],outline:Boolean,layout:{type:String,default:"column"},floating:Boolean,floatingDuration:{type:Number,default:250},alt:String,title:String,subtitle:String,description:String,elevation:{type:[Boolean,Number,String],default:!0},ripple:Boolean,onClick:R(),"onUpdate:floating":R()},{n:ue,classes:de}=Z("card"),ve=500,fe=x({name:"VarCard",directives:{Ripple:q},components:{VarIcon:A,VarButton:Q},props:re,setup(e){const m=o(null),N=o(null),d=o("auto"),v=o("auto"),f=o("100%"),s=o("100%"),t=o("auto"),l=o("auto"),g=o(void 0),w=o("hidden"),$=o("0px"),b=o("0"),k=ee(()=>e.layout==="row"),C=o(!1),S=o(!1),{zIndex:V}=X(()=>e.floating,1);_(()=>e.floating,()=>!k.value);let D="auto",B="auto",I=null;const c=o(null),W=async()=>{clearTimeout(c.value),clearTimeout(I),c.value=null,c.value=setTimeout(async()=>{const{width:h,height:O,left:j,top:M}=J(m.value);d.value=y(h),v.value=y(O),f.value=d.value,s.value=v.value,t.value=y(M),l.value=y(j),g.value="fixed",D=t.value,B=l.value,C.value=!0,await K(),t.value="0",l.value="0",f.value="100vw",s.value="100vh",$.value="auto",b.value="1",w.value="auto",S.value=!0},e.ripple?ve:0)},E=()=>{clearTimeout(I),clearTimeout(c.value),c.value=null,f.value=d.value,s.value=v.value,t.value=D,l.value=B,$.value="0px",b.value="0",C.value=!1,I=setTimeout(()=>{d.value="auto",v.value="auto",f.value="100%",s.value="100%",t.value="auto",l.value="auto",D="auto",B="auto",w.value="hidden",g.value=void 0,S.value=!1},e.floatingDuration)},P=()=>{H(e["onUpdate:floating"],!1)},U=h=>{H(e.onClick,h)};return oe(()=>e.floating,h=>{k.value||ae(()=>{h?W():E()})},{immediate:!0}),{n:ue,classes:de,toSizeUnit:y,card:m,cardFloater:N,holderWidth:d,holderHeight:v,floater:c,floaterWidth:f,floaterHeight:s,floaterTop:t,floaterLeft:l,floaterPosition:g,floaterOverflow:w,contentHeight:$,opacity:b,zIndex:V,isRow:k,close:P,showFloatingButtons:C,floated:S,formatElevation:Y,handleClick:U}}});const ce=["src","alt"];function pe(e,m,N,d,v,f){const s=F("var-icon"),t=F("var-button"),l=le("ripple");return ne((n(),i("div",{ref:"card",class:a(e.classes(e.n(),[e.isRow,e.n("--layout-row")],[e.outline,e.n("--outline")],e.formatElevation(e.elevation,1))),style:p({zIndex:e.floated?e.zIndex:void 0}),onClick:m[0]||(m[0]=(...g)=>e.handleClick&&e.handleClick(...g))},[z("div",{ref:"cardFloater",class:a(e.n("floater")),style:p({width:e.floaterWidth,height:e.floaterHeight,top:e.floaterTop,left:e.floaterLeft,overflow:e.floaterOverflow,position:e.floaterPosition,transition:e.floated?`background-color ${e.floatingDuration}ms, color ${e.floatingDuration}ms, width ${e.floatingDuration}ms, height ${e.floatingDuration}ms, top ${e.floatingDuration}ms, left ${e.floatingDuration}ms`:void 0})},[r(e.$slots,"image",{},()=>[e.src?(n(),i("img",{key:0,class:a(e.n("image")),style:p({objectFit:e.fit,height:e.toSizeUnit(e.imageHeight),width:e.toSizeUnit(e.imageWidth)}),src:e.src,alt:e.alt},null,14,ce)):u("",!0)]),z("div",{class:a(e.n("container"))},[r(e.$slots,"title",{},()=>[e.title?(n(),i("div",{key:0,class:a(e.n("title"))},T(e.title),3)):u("",!0)]),r(e.$slots,"subtitle",{},()=>[e.subtitle?(n(),i("div",{key:0,class:a(e.n("subtitle"))},T(e.subtitle),3)):u("",!0)]),r(e.$slots,"description",{},()=>[e.description?(n(),i("div",{key:0,class:a(e.n("description"))},T(e.description),3)):u("",!0)]),e.$slots.extra?(n(),i("div",{key:0,class:a(e.n("footer"))},[r(e.$slots,"extra")],2)):u("",!0),e.$slots["floating-content"]&&!e.isRow?(n(),i("div",{key:1,class:a(e.n("floating-content")),style:p({height:e.contentHeight,opacity:e.opacity,transition:`opacity ${e.floatingDuration*2}ms`})},[r(e.$slots,"floating-content")],6)):u("",!0)],2),e.showFloatingButtons?(n(),i("div",{key:0,class:a(e.classes(e.n("floating-buttons"),e.n("$--box"))),style:p({zIndex:e.zIndex,opacity:e.opacity,transition:`opacity ${e.floatingDuration*2}ms`})},[r(e.$slots,"close-button",{},()=>[L(t,{"var-card-cover":"",round:"",class:a(e.classes(e.n("close-button"),e.n("$-elevation--6"))),onClick:se(e.close,["stop"])},{default:ie(()=>[L(s,{"var-card-cover":"",name:"window-close",class:a(e.n("close-button-icon"))},null,8,["class"])]),_:1},8,["class","onClick"])])],6)):u("",!0)],6),z("div",{class:a(e.n("holder")),style:p({width:e.holderWidth,height:e.holderHeight})},null,6)],6)),[[l,{disabled:!e.ripple||e.floater}]])}const me=te(fe,[["render",pe]]);G(me);export{me as C};
