import{v as T}from"./index-85ab28c6.js";import{p as u,L as $}from"./index-de3cc273.js";import{H as k,u as z}from"./index-8c8e5e90.js";import{H as N}from"./index-2a9d0a0e.js";import{p as v,d as c,f as S,c as O,a as b,w as P}from"./components-b4bea23d.js";import{a3 as H,d as L,r as G,D as R,a2 as U,_ as D,b as h,L as B,P as V,e as C,m as E,f as w,x as g,t as I,p as A,v as K,q as Y,y as q}from"./index-ba2bae36.js";const j={type:String,nativeType:{type:String,default:"button"},size:String,loading:Boolean,round:Boolean,block:Boolean,text:Boolean,outline:Boolean,disabled:Boolean,autoLoading:Boolean,ripple:{type:Boolean,default:!0},color:String,textColor:String,elevation:{type:[Boolean,Number,String],default:!0},loadingRadius:[Number,String],loadingType:v(u,"type"),loadingSize:v(u,"size"),loadingColor:{...v(u,"color"),default:"currentColor"},onClick:c(),onTouchstart:c()},F=Symbol("BUTTON_GROUP_BIND_BUTTON_KEY");function J(){const{bindParent:e,parentProvider:o,index:l}=H(F);return{index:l,buttonGroup:o,bindButtonGroup:e}}const{name:M,n:Q,classes:W}=O("button"),X=L({name:M,components:{VarLoading:$,VarHoverOverlay:k},directives:{Ripple:T,Hover:N},props:j,setup(e){const o=G(!1),{buttonGroup:l}=J(),{hovering:p,handleHovering:f}=z(),m=R(()=>{if(!l)return{elevation:S(e.elevation,2),type:e.type!=null?e.type:"default",size:e.size!=null?e.size:"normal",color:e.color,text:e.text,textColor:e.textColor,outline:e.outline};const{type:n,size:a,color:i,textColor:t,mode:y}=l;return{elevation:"",type:e.type!=null?e.type:n.value,size:e.size!=null?e.size:a.value,color:e.color!=null?e.color:i.value,textColor:e.textColor!=null?e.textColor:t.value,text:y.value!=="normal",outline:y.value==="outline"}});function s(n){e.autoLoading&&(o.value=!0,n=U(n)?n:[n],Promise.all(n).then(()=>{o.value=!1}).catch(()=>{o.value=!1}))}function r(n){const{loading:a,disabled:i,onClick:t}=e;!t||a||i||o.value||s(b(t,n))}function d(n){const{loading:a,disabled:i,onTouchstart:t}=e;!t||a||i||o.value||s(b(t,n))}return{pending:o,states:m,hovering:p,n:Q,classes:W,handleHovering:f,handleClick:r,handleTouchstart:d}}});const Z=["type","disabled"];function _(e,o,l,p,f,m){const s=h("var-loading"),r=h("var-hover-overlay"),d=B("ripple"),n=B("hover");return V((C(),E("button",{class:g(e.classes(e.n(),e.n("$--box"),e.n(`--${e.states.size}`),[e.block,`${e.n("$--flex")} ${e.n("--block")}`,e.n("$--inline-flex")],[e.disabled,e.n("--disabled")],[e.states.text,`${e.n(`--text-${e.states.type}`)} ${e.n("--text")}`,`${e.n(`--${e.states.type}`)} ${e.states.elevation}`],[e.states.text&&e.disabled,e.n("--text-disabled")],[e.round,e.n("--round")],[e.states.outline,e.n("--outline")])),style:q({color:e.states.textColor,background:e.states.color}),type:e.nativeType,disabled:e.disabled,onClick:o[0]||(o[0]=(...a)=>e.handleClick&&e.handleClick(...a)),onTouchstart:o[1]||(o[1]=(...a)=>e.handleTouchstart&&e.handleTouchstart(...a))},[e.loading||e.pending?(C(),w(s,{key:0,class:g(e.n("loading")),"var-button-cover":"",color:e.loadingColor,type:e.loadingType,size:e.loadingSize,radius:e.loadingRadius},null,8,["class","color","type","size","radius"])):I("",!0),A("div",{class:g(e.classes(e.n("content"),[e.loading||e.pending,e.n("--hidden")]))},[K(e.$slots,"default")],2),Y(r,{hovering:e.disabled?!1:e.hovering},null,8,["hovering"])],46,Z)),[[d,{disabled:e.disabled||!e.ripple}],[n,e.handleHovering,"desktop"]])}const x=D(X,[["render",_]]);P(x);export{x as B};
