import{a1 as x,d as W,D as $,G as k,n as K,a2 as L,_ as j,e as M,m as A,v as N,x as C,a3 as ee,r as I,aK as B,j as te,b as le,p as w,Q as d,R as r,q as o,P as ae,Y as ne,y as oe,W as ie,F as se,al as de,w as n,U as t,N as re}from"./index-ba2bae36.js";import{d as Y,c as q,a as F,w as G,f as ue}from"./components-b4bea23d.js";import{I as fe}from"./index-d9f34410.js";import{e as me}from"./logger-525ef361.js";import{B as R}from"./index-b6014f56.js";import{S as ce}from"./index-32c6ad87.js";import{d as ve}from"./index-d8fbf18c.js";import{u as pe,b as Q,_ as he,c as Ce,a as ge}from"./index-bcc640ab.js";import{A as S}from"./appType-18c8b942.js";import"./elements-75b8c791.js";import"./index-85ab28c6.js";import"./index-bc58714c.js";/* empty css               */import"./index-de3cc273.js";import"./index-8c8e5e90.js";import"./index-2a9d0a0e.js";const J=Symbol("COLLAPSE_BIND_COLLAPSE_ITEM_KEY");function Ve(){const{childProviders:e,length:s,bindChildren:c}=x(J);return{length:s,collapseItem:e,bindCollapseItem:c}}const be={modelValue:[Array,String,Number],accordion:Boolean,offset:{type:Boolean,default:!0},divider:{type:Boolean,default:!0},elevation:{type:[Boolean,String,Number],default:!0},onChange:Y(),"onUpdate:modelValue":Y()},{name:ye,n:we}=q("collapse"),Se=W({name:ye,props:be,setup(e){const s=$(()=>e.modelValue),c=$(()=>e.offset),a=$(()=>e.divider),V=$(()=>e.elevation),{length:p,collapseItem:i,bindCollapseItem:u}=Ve(),_={active:s,offset:c,divider:a,elevation:V,updateItem:U};k(()=>p.value,()=>K().then(y)),k(()=>e.modelValue,()=>K().then(y)),u(_);function D(){return!e.accordion&&!L(e.modelValue)?(console.error('[Varlet] Collapse: type of prop "modelValue" should be an Array'),!1):e.accordion&&L(e.modelValue)?(console.error('[Varlet] Collapse: type of prop "modelValue" should be a String or Number'),!1):!0}function T(m,f){return D()?f?e.accordion?m:[...e.modelValue,m]:e.accordion?null:e.modelValue.filter(g=>g!==m):null}function U(m,f){const g=T(m,f);F(e["onUpdate:modelValue"],g),F(e.onChange,g)}function E(){if(e.accordion)return i.find(({name:f})=>e.modelValue===f.value);const m=i.filter(({name:f})=>f.value===void 0?!1:e.modelValue.includes(f.value));return m.length?m:void 0}function P(){return e.accordion?i.find(({index:m,name:f})=>f.value===void 0&&e.modelValue===m.value):i.filter(({index:m,name:f})=>f.value===void 0&&e.modelValue.includes(m.value))}function y(){if(!D())return;const m=E()||P();if(e.accordion&&!m||!e.accordion&&!m.length){i.forEach(f=>{f.init(e.accordion,!1)});return}i.forEach(f=>{const g=e.accordion?m===f:m.includes(f);f.init(e.accordion,g)})}return{divider:a,n:we}}});function $e(e,s,c,a,V,p){return M(),A("div",{class:C(e.n())},[N(e.$slots,"default")],2)}const b=j(Se,[["render",$e]]);G(b);function Ie(){const{parentProvider:e,index:s,bindParent:c}=ee(J);return c||me("Collapse","<var-collapse-item/> must in <var-collapse>"),{index:s,collapse:e,bindCollapse:c}}const _e={name:[String,Number],title:String,icon:{type:String,default:"chevron-down"},disabled:Boolean},{name:De,n:Ne,classes:Te}=q("collapse-item"),Ue=W({name:De,components:{VarIcon:fe},props:_e,setup(e){const s=I(!1),c=I(!1),a=I(null),V=$(()=>e.name),{index:p,collapse:i,bindCollapse:u}=Ie(),{active:_,offset:D,divider:T,elevation:U,updateItem:E}=i,P={index:p,name:V,init:g};let y=!0;k(s,h=>{h?m():f()}),u(P);async function m(){if(!a.value||(a.value.style.height="",c.value=!0,await B(),!a.value))return;const{offsetHeight:h}=a.value;a.value.style.height="0px",await B(),a.value&&(a.value.style.height=h+"px",y&&(await te(),y&&H()))}async function f(){if(!a.value)return;const{offsetHeight:h}=a.value;a.value.style.height=h+"px",await B(),a.value.style.height="0px"}function g(h,O){_.value===void 0||h&&L(_.value)||O===s.value||(s.value=O,z(!0))}function z(h){e.disabled||h||E(e.name||p.value,!s.value)}function Z(){y=!1}function H(){s.value||(c.value=!1),a.value.style.height=""}return{isShow:s,showContent:c,offset:D,divider:T,elevation:U,contentEl:a,n:Ne,start:Z,classes:Te,toggle:z,transitionend:H,formatElevation:ue}}});function Ee(e,s,c,a,V,p){const i=le("var-icon");return M(),A("div",{class:C(e.classes(e.n(),[e.offset&&e.isShow,e.n("--active")],[e.disabled,e.n("--disable")])),style:oe(`--collapse-divider-top: ${e.divider?"var(--collapse-border-top)":"none"}`)},[w("div",{class:C(e.classes(e.n("shadow"),e.formatElevation(e.elevation,2)))},null,2),w("div",{class:C(e.n("header")),onClick:s[0]||(s[0]=u=>e.toggle())},[w("div",{class:C(e.n("header-title"))},[N(e.$slots,"title",{},()=>[d(r(e.title),1)])],2),w("div",{class:C(e.n("header-icon"))},[N(e.$slots,"icon",{},()=>[o(i,{name:e.icon,transition:250,class:C(e.classes(e.n("header-icon"),[e.isShow&&e.icon==="chevron-down",e.n("header-open")],[e.disabled,e.n("header--disable")]))},null,8,["name","class"])])],2)],2),ae(w("div",{class:C(e.n("content")),ref:"contentEl",onTransitionend:s[1]||(s[1]=(...u)=>e.transitionend&&e.transitionend(...u)),onTransitionstart:s[2]||(s[2]=(...u)=>e.start&&e.start(...u))},[w("div",{class:C(e.n("content-wrap"))},[N(e.$slots,"default")],2)],34),[[ne,e.showContent]])],6)}const v=j(Ue,[["render",Ee]]);G(v);const Pe={basicUsage:"基本使用",hideMargin:"隐藏边距",accordionMode:"手风琴模式",disabled:"禁用",enable:"启用",customContent:"自定义内容",title:"标题",text:"文本",slotTitle:"这是标题",slotContent:"这是内容",hideDivider:"隐藏分割线",showDivider:"显示分割线",controlledDivider:"可控的分割线"},Be={basicUsage:"Basic Usage",hideMargin:"Hide Margin",accordionMode:"Accordion Mode",disabled:"Disabled",enable:"Enable",customContent:"Custom Content",title:"Title",text:"Hello World",slotTitle:"This is a Title",slotContent:"This is a content",hideDivider:"Hide Divider",showDivider:"Show Divider",controlledDivider:"Controlled Divider"},{add:X,use:ke,pack:l,packs:Ze,merge:xe}=pe(),Le=e=>{ge(e),ke(e)};Q("zh-CN",he);Q("en-US",Ce);X("zh-CN",Pe);X("en-US",Be);const et={__name:"index",setup(e){const s=I(!1),c=I(!1),a=ie({value:["1"],value1:"",value2:[1],value3:["1"],value4:["2"],value5:[]});function V(p){console.log(p)}return se(Le),de(ve),(p,i)=>(M(),A(re,null,[o(t(S),null,{default:n(()=>[d(r(t(l).basicUsage),1)]),_:1}),o(t(b),{modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=u=>a.value=u),onChange:V},{default:n(()=>[o(t(v),{title:t(l).title,name:"1"},{default:n(()=>[d(r(t(l).text),1)]),_:1},8,["title"]),o(t(v),{title:t(l).title,name:"2"},{default:n(()=>[d(r(t(l).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),o(t(S),null,{default:n(()=>[d(r(t(l).hideMargin),1)]),_:1}),o(t(b),{modelValue:a.value4,"onUpdate:modelValue":i[1]||(i[1]=u=>a.value4=u),offset:!1},{default:n(()=>[o(t(v),{title:t(l).title,name:"1"},{default:n(()=>[d(r(t(l).text),1)]),_:1},8,["title"]),o(t(v),{title:t(l).title,name:"2"},{default:n(()=>[d(r(t(l).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),o(t(S),null,{default:n(()=>[d(r(t(l).controlledDivider),1)]),_:1}),o(t(R),{onClick:i[2]||(i[2]=u=>c.value=!c.value),style:{"margin-bottom":"8px"}},{default:n(()=>[d(r(c.value?t(l).hideDivider:t(l).showDivider),1)]),_:1}),o(t(b),{modelValue:a.value5,"onUpdate:modelValue":i[3]||(i[3]=u=>a.value5=u),divider:c.value},{default:n(()=>[o(t(v),{title:t(l).title,name:"1"},{default:n(()=>[d(r(t(l).text),1)]),_:1},8,["title"]),o(t(v),{title:t(l).title,name:"2"},{default:n(()=>[d(r(t(l).text),1)]),_:1},8,["title"]),o(t(v),{title:t(l).title,name:"3"},{default:n(()=>[d(r(t(l).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue","divider"]),o(t(S),null,{default:n(()=>[d(r(t(l).accordionMode),1)]),_:1}),o(t(b),{modelValue:a.value1,"onUpdate:modelValue":i[4]||(i[4]=u=>a.value1=u),accordion:"",offset:!1},{default:n(()=>[o(t(v),{title:t(l).title,name:"1"},{default:n(()=>[d(r(t(l).text),1)]),_:1},8,["title"]),o(t(v),{title:t(l).title,name:"2"},{default:n(()=>[d(r(t(l).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),o(t(S),null,{default:n(()=>[d(r(t(l).disabled),1)]),_:1}),o(t(ce),{direction:"column",size:[8,8]},{default:n(()=>[o(t(R),{onClick:i[5]||(i[5]=u=>s.value=!s.value)},{default:n(()=>[d(r(s.value?t(l).enable:t(l).disabled),1)]),_:1}),o(t(b),{modelValue:a.value2,"onUpdate:modelValue":i[6]||(i[6]=u=>a.value2=u)},{default:n(()=>[o(t(v),{title:t(l).title,name:1,disabled:s.value},{default:n(()=>[d(r(t(l).text),1)]),_:1},8,["title","disabled"]),o(t(v),{title:t(l).title,name:2,disabled:s.value},{default:n(()=>[d(r(t(l).text),1)]),_:1},8,["title","disabled"])]),_:1},8,["modelValue"])]),_:1}),o(t(S),null,{default:n(()=>[d(r(t(l).customContent),1)]),_:1}),o(t(b),{modelValue:a.value3,"onUpdate:modelValue":i[7]||(i[7]=u=>a.value3=u)},{default:n(()=>[o(t(v),{title:t(l).slotTitle,name:"1",icon:"account-circle"},{default:n(()=>[d(r(t(l).text),1)]),_:1},8,["title"]),o(t(v),{name:"2"},{title:n(()=>[d(r(t(l).slotTitle),1)]),icon:n(()=>[d("^_^")]),default:n(()=>[d(" "+r(t(l).slotContent),1)]),_:1})]),_:1},8,["modelValue"])],64))}};export{et as default};
