import{I as N}from"./index-d9f34410.js";import{d as C,c as I,a as k,w as T}from"./components-b4bea23d.js";import{d as P,r as S,D as F,aN as g,aC as V,at as W,aB as R,ab as q,_ as L,b as U,e as n,m as i,p as s,x as l,v as b,y as a,R as $,t,f as B,N as j,au as A}from"./index-ba2bae36.js";const G={value:{type:null,required:!0},id:{type:String,default:""},isFocus:Boolean,size:{type:String,default:"normal"},variant:{type:String,default:"standard"},placeholder:String,line:{type:Boolean,default:!0},hint:{type:Boolean,default:!0},textColor:String,focusColor:String,blurColor:String,errorMessage:String,formDisabled:Boolean,disabled:Boolean,clearable:Boolean,cursor:String,composing:Boolean,onClick:C(),onClear:C()},{name:H,n:v,classes:J}=I("field-decorator"),K=P({name:H,components:{VarIcon:N},props:G,setup(e,{slots:d}){const p=S(null),u=S(""),f=F(()=>e.hint&&(!g(e.value)||e.isFocus||d["prepend-icon"])),y=F(()=>e.errorMessage?void 0:e.isFocus?e.focusColor:e.blurColor);V(r),W(r),R(r);function h(){const{hint:o,value:m,composing:c}=e;if(!o&&(!g(m)||c))return v("--placeholder-hidden");if(f.value)return v("--placeholder-hint")}function r(){const{size:o,hint:m,variant:c,placeholder:z}=e;if(!z||!m||c!=="outlined"){u.value="";return}const w=q(p.value),E=`var(--field-decorator-outlined-${o}-placeholder-space)`;u.value=`calc(${w.width} * 0.75 + ${E} * 2)`}function D(o){k(e.onClear,o)}function M(o){k(e.onClick,o)}return{placeholderTextEl:p,color:y,legendWidth:u,isFloating:f,computePlaceholderState:h,n:v,classes:J,isEmpty:g,handleClear:D,handleClick:M}}});const O=["for"];function Q(e,d,p,u,f,y){const h=U("var-icon");return n(),i("div",{class:l(e.classes(e.n(),e.n("$--box"),e.n(`--${e.variant}`),[e.size==="small",e.n("--small")],[e.disabled,e.n("--disabled")])),onClick:d[0]||(d[0]=(...r)=>e.handleClick&&e.handleClick(...r))},[s("div",{class:l(e.classes(e.n("controller"),[e.isFocus,e.n("--focus")],[e.errorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:a({color:e.color,cursor:e.cursor,overflow:e.isFloating?"visible":"hidden"})},[s("div",{class:l(e.classes(e.n("icon"),[!e.hint,e.n("--icon-non-hint")]))},[b(e.$slots,"prepend-icon")],2),s("div",{class:l(e.classes(e.n("middle"),[!e.hint,e.n("--middle-non-hint")]))},[b(e.$slots,"default")],2),e.placeholder&&e.hint?(n(),i("label",{key:0,class:l(e.classes(e.n("placeholder"),e.n("$--ellipsis"),[e.isFocus,e.n("--focus")],[e.formDisabled||e.disabled,e.n("--disabled")],[e.errorMessage,e.n("--error")],e.computePlaceholderState())),style:a({color:e.color}),for:e.id},[s("span",null,$(e.placeholder),1)],14,O)):t("",!0),s("div",{class:l(e.classes(e.n("icon"),[!e.hint,e.n("--icon-non-hint")]))},[e.clearable&&!e.isEmpty(e.value)?(n(),B(h,{key:0,class:l(e.n("clear-icon")),"var-field-decorator-cover":"",name:"close-circle",onClick:e.handleClear},null,8,["class","onClick"])):t("",!0),b(e.$slots,"append-icon")],2)],6),e.line?(n(),i(j,{key:0},[e.variant==="outlined"?(n(),i("fieldset",{key:0,class:l(e.classes(e.n("line"),[e.isFocus,e.n("--line-focus")],[e.errorMessage,e.n("--line-error")],[e.formDisabled||e.disabled,e.n("--line-disabled")])),style:a({borderColor:e.color})},[s("legend",{class:l(e.classes(e.n("line-legend"),[e.isFloating,e.n("line-legend--hint")])),style:a({width:e.legendWidth})},[e.placeholder&&e.hint?(n(),B(A,{key:0,to:"body"},[s("span",{ref:"placeholderTextEl",class:l(e.classes(e.n("placeholder-text"),e.n("$--ellipsis"),[e.size==="small",e.n("placeholder-text--small")]))},$(e.placeholder),3)])):t("",!0)],6)],6)):(n(),i("div",{key:1,class:l(e.classes(e.n("line"),[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:a({background:e.errorMessage?void 0:e.blurColor})},[s("div",{class:l(e.classes(e.n("dot"),[e.isFocus,e.n("--line-focus")],[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:a({background:e.errorMessage?void 0:e.focusColor})},null,6)],6))],64)):t("",!0)],2)}const X=L(K,[["render",Q]]);T(X);export{X as F,G as p};
