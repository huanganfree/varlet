import{F as E,u as N}from"./provide-bd6f36e3.js";import{d as p,h as W,a as t,c as B,w as D}from"./components-b4bea23d.js";import{u as S}from"./index-e690b14c.js";import{d as q,D as c,G as b,aZ as _,n as z,_ as P,b as I,e as L,m as Z,p as j,v as H,x,q as J}from"./index-ba2bae36.js";const K={modelValue:{type:Array,default:()=>[]},max:[String,Number],direction:{type:String,default:"horizontal"},validateTrigger:{type:Array,default:()=>["onChange"]},rules:Array,onChange:p(),"onUpdate:modelValue":p()},{name:O,n:Q,classes:R}=B("checkbox-group"),X=q({name:O,components:{VarFormDetails:E},props:K,setup(e){const i=c(()=>e.max),u=c(()=>e.modelValue.length),{length:d,checkboxes:r,bindCheckboxes:m}=S(),{bindForm:s}=N(),{errorMessage:f,validateWithTrigger:y,validate:A,resetValidation:l}=W(),U=c(()=>f.value),h={max:i,checkedCount:u,onChecked:F,onUnchecked:G,validate:C,resetValidation:l,reset:k,errorMessage:U};b(()=>e.modelValue,v,{deep:!0}),b(()=>d.value,v),m(h),t(s,h);function $(a){z(()=>{const{validateTrigger:n,rules:o,modelValue:w}=e;y(n,a,o,w)})}function g(a){t(e["onUpdate:modelValue"],a),t(e.onChange,a),$("onChange")}function F(a){const{modelValue:n}=e;n.includes(a)||g([...n,a])}function G(a){const{modelValue:n}=e;n.includes(a)&&g(n.filter(o=>o!==a))}function v(){return r.forEach(({sync:a})=>a(e.modelValue))}function V(){r.forEach(a=>a.resetWithAnimation())}function M(){const a=r.map(({checkedValue:o})=>o.value),n=_(a);return V(),t(e["onUpdate:modelValue"],n),n}function T(){const a=r.filter(({checked:o})=>!o.value).map(({checkedValue:o})=>o.value),n=_(a);return V(),t(e["onUpdate:modelValue"],n),n}function k(){t(e["onUpdate:modelValue"],[]),l()}function C(){return A(e.rules,e.modelValue)}return{errorMessage:f,n:Q,classes:R,checkAll:M,inverseAll:T,reset:k,validate:C,resetValidation:l}}});function Y(e,i,u,d,r,m){const s=I("var-form-details");return L(),Z("div",{class:x(e.n("wrap"))},[j("div",{class:x(e.classes(e.n(),e.n(`--${e.direction}`)))},[H(e.$slots,"default")],2),J(s,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const ee=P(X,[["render",Y]]);D(ee);export{ee as C};
