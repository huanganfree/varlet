import{v as S}from"./index-fde800b6.js";import{v as k}from"./index-65eb6028.js";import{d as t,c as v,a as n,w as L}from"./logger-9a144f5d.js";import{a as w}from"./elements-1fb47fa1.js";import{d as C,a as b,w as E,_ as $,af as h,D as z,f as d,h as m,N as u,R as f,j as g,O as N}from"./vue-router-547718df.js";const B={src:String,fit:{type:String,default:"fill"},alt:String,title:String,width:[String,Number],height:[String,Number],radius:{type:[String,Number],default:0},loading:String,error:String,lazy:Boolean,ripple:Boolean,block:{type:Boolean,default:!0},onClick:t(),onLoad:t(),onError:t()},{n:I,classes:R}=v("image"),U=C({name:"VarImage",directives:{Lazy:k,Ripple:S},props:B,setup(e,{slots:r}){const a=b(!1),s=l=>{a.value=!!r.error,n(e.onError,l)},y=l=>{const i=l.currentTarget;if(e.lazy){if(i._lazy.state==="success"){n(e.onLoad,l);return}i._lazy.state==="error"&&s(l)}else n(e.onLoad,l)},p=l=>{n(e.onClick,l)};return E(()=>e.src,()=>{a.value=!1}),{n:I,classes:R,showErrorSlot:a,toSizeUnit:w,handleLoad:y,handleError:s,handleClick:p}}});const c=["alt","title","lazy-loading","lazy-error"],j=["alt","title","src"];function D(e,r,a,s,y,p){const l=h("lazy"),i=h("ripple");return z((d(),m("div",{class:u(e.classes(e.n(),e.n("$--box"),[!e.block,e.n("$--inline-block")])),style:f({width:e.toSizeUnit(e.width),height:e.toSizeUnit(e.height),borderRadius:e.toSizeUnit(e.radius)})},[e.lazy&&!e.showErrorSlot?z((d(),m("img",{key:0,class:u(e.n("image")),alt:e.alt,title:e.title,"lazy-loading":e.loading,"lazy-error":e.error,style:f({objectFit:e.fit}),onLoad:r[0]||(r[0]=(...o)=>e.handleLoad&&e.handleLoad(...o)),onClick:r[1]||(r[1]=(...o)=>e.handleClick&&e.handleClick(...o))},null,46,c)),[[l,e.src]]):g("",!0),!e.lazy&&!e.showErrorSlot?(d(),m("img",{key:1,class:u(e.n("image")),alt:e.alt,title:e.title,style:f({objectFit:e.fit}),src:e.src,onLoad:r[2]||(r[2]=(...o)=>e.handleLoad&&e.handleLoad(...o)),onError:r[3]||(r[3]=(...o)=>e.handleError&&e.handleError(...o)),onClick:r[4]||(r[4]=(...o)=>e.handleClick&&e.handleClick(...o))},null,46,j)):g("",!0),e.showErrorSlot?N(e.$slots,"error",{key:2}):g("",!0)],6)),[[i,{disabled:!e.ripple}]])}const F=$(U,[["render",D]]);L(F);export{F as I};
