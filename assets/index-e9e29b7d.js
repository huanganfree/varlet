import{F as T,u as E}from"./provide-8be1530f.js";import{d as p,k as W,a as n,c as B,w as S}from"./logger-9a144f5d.js";import{u as q}from"./index-77fb378f.js";import{d as z,b as c,w as b,aQ as _,n as D,_ as P,p as I,f as L,h as O,M as Q,O as j,N as x,q as H}from"./vue-router-547718df.js";const J={modelValue:{type:Array,default:()=>[]},max:[String,Number],direction:{type:String,default:"horizontal"},validateTrigger:{type:Array,default:()=>["onChange"]},rules:Array,onChange:p(),"onUpdate:modelValue":p()},{n:K,classes:R}=B("checkbox-group"),X=z({name:"VarCheckboxGroup",components:{VarFormDetails:T},props:J,setup(e){const i=c(()=>e.max),d=c(()=>e.modelValue.length),{length:u,checkboxes:s,bindCheckboxes:m}=q(),{bindForm:r}=E(),{errorMessage:h,validateWithTrigger:y,validate:A,resetValidation:l}=W(),M=c(()=>h.value),U=a=>{D(()=>{const{validateTrigger:o,rules:t,modelValue:N}=e;y(o,a,t,N)})},g=a=>{n(e["onUpdate:modelValue"],a),n(e.onChange,a),U("onChange")},$=a=>{const{modelValue:o}=e;o.includes(a)||g([...o,a])},w=a=>{const{modelValue:o}=e;o.includes(a)&&g(o.filter(t=>t!==a))},f=()=>s.forEach(({sync:a})=>a(e.modelValue)),v=()=>{s.forEach(a=>a.resetWithAnimation())},F=()=>{const a=s.map(({checkedValue:t})=>t.value),o=_(a);return v(),n(e["onUpdate:modelValue"],o),o},G=()=>{const a=s.filter(({checked:t})=>!t.value).map(({checkedValue:t})=>t.value),o=_(a);return v(),n(e["onUpdate:modelValue"],o),o},k=()=>{n(e["onUpdate:modelValue"],[]),l()},V=()=>A(e.rules,e.modelValue);b(()=>e.modelValue,f,{deep:!0}),b(()=>u.value,f);const C={max:i,checkedCount:d,onChecked:$,onUnchecked:w,validate:V,resetValidation:l,reset:k,errorMessage:M};return m(C),n(r,C),{errorMessage:h,n:K,classes:R,checkAll:F,inverseAll:G,reset:k,validate:V,resetValidation:l}}});function Y(e,i,d,u,s,m){const r=I("var-form-details");return L(),O("div",{class:x(e.n("wrap"))},[Q("div",{class:x(e.classes(e.n(),e.n(`--${e.direction}`)))},[j(e.$slots,"default")],2),H(r,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const Z=P(X,[["render",Y]]);S(Z);export{Z as C};
