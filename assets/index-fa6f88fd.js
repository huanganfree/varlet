import{d as P,c as J,a as R,h as K,w as X}from"./components-b4bea23d.js";import{a as Z,u as ee,F as ae}from"./provide-bd6f36e3.js";import{d as le,D as B,aO as z,b8 as oe,_ as F,e as E,m as I,v as Y,x as G,p as q,q as t,U as e,n as te,W as se,r as T,F as re,al as ne,w as n,N as de,Q as m,R as i,$ as ue,a0 as me}from"./index-ba2bae36.js";import{g as ie,e as D,t as pe,s as ce}from"./elements-75b8c791.js";import{l as fe}from"./shared-104f51c5.js";import{I as L}from"./index-ee59e990.js";import{S as O,O as k}from"./index-2bb836fc.js";import{C as ge}from"./index-7e2e99d0.js";import{C as w}from"./index-e690b14c.js";import{a as ve,R as A}from"./index-47394563.js";import{B as C}from"./index-b6014f56.js";import{S as Ve}from"./index-e88a333c.js";import{S as be}from"./index-3d270105.js";import{U as ye}from"./index-050402ab.js";import{C as Me}from"./index-824a4d94.js";import{R as ke}from"./index-471c3b94.js";import{S as W}from"./index-32c6ad87.js";import{I as _e}from"./index-d9f34410.js";import{d as Ce}from"./index-d8fbf18c.js";import{u as xe,b as Q,_ as Ue,c as $e,a as Se}from"./index-bcc640ab.js";import{A as h}from"./appType-18c8b942.js";import"./logger-525ef361.js";import"./index-48091cb8.js";import"./index-e8396a52.js";import"./usePopover-00a6eefd.js";import"./zIndex-6555f30c.js";import"./index-bc58714c.js";import"./index-5ce9467e.js";import"./useSelectController-09b06437.js";import"./index-85ab28c6.js";/* empty css               */import"./index-2a9d0a0e.js";import"./index-8c8e5e90.js";import"./index-de3cc273.js";import"./index-3494baee.js";import"./lock-f26c8833.js";import"./provide-aabba7a2.js";import"./index-9279bfdb.js";import"./index-48bd5f24.js";import"./provide-b7386d59.js";import"./index-5d1f4666.js";const Te={disabled:Boolean,readonly:Boolean,scrollToError:String,scrollToErrorOffsetY:{type:[String,Number],default:0},onSubmit:P(),onReset:P()},{name:we,n:he}=J("form"),Fe=le({name:we,props:Te,setup(r){const s=B(()=>r.disabled),p=B(()=>r.readonly),{formItems:d,bindFormItems:v}=Z();v({disabled:s,readonly:p});function l(u){setTimeout(()=>{const c=ie(u),f=c===window?0:D(c),y=D(u)-f-pe(r.scrollToErrorOffsetY);ce(c,{top:y,animation:fe})},300)}async function a(u){z(u);const c=await _();R(r.onSubmit,c)}function $(u){z(u),b(),R(r.onReset)}async function _(){var c;const u=await Promise.all(d.map(({validate:f})=>f()));if(r.scrollToError){const[,f]=oe(u,M=>M===!1,r.scrollToError),y=f>-1;if(y){const M=(c=d[f].instance.proxy)==null?void 0:c.$el;l(M)}return!y}return u.every(f=>f===!0)}function b(){return d.forEach(({reset:u})=>u())}function g(){return d.forEach(({resetValidation:u})=>u())}return{n:he,handleSubmit:a,handleReset:$,validate:_,reset:b,resetValidation:g}}});function Ee(r,s,p,d,v,V){return E(),I("form",{class:G(r.n()),onSubmit:s[0]||(s[0]=(...l)=>r.handleSubmit&&r.handleSubmit(...l)),onReset:s[1]||(s[1]=(...l)=>r.handleReset&&r.handleReset(...l))},[Y(r.$slots,"default")],34)}const x=F(Fe,[["render",Ee]]);x.useValidation=K;x.useForm=ee;X(x);const Ie={__name:"CustomFormComponent",props:{modelValue:{type:Boolean},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},rules:{type:Array},validateTrigger:{type:Array,default:()=>["onToggle"]},extraMessage:{type:String}},emits:["update:modelValue"],setup(r,{expose:s,emit:p}){const d=r,{useForm:v,useValidation:V}=x,{errorMessage:l,validateWithTrigger:a,validate:$,resetValidation:_}=V(),{bindForm:b,form:g}=v(),u=()=>$(d.rules,d.modelValue);function c(){p("update:modelValue",!1),_()}function f(S){te(()=>{const{validateTrigger:N,rules:U,modelValue:H}=d;a(N,S,U,H)})}function y(){d.readonly||d.disabled||g!=null&&g.readonly.value||g!=null&&g.disabled.value||(p("update:modelValue",!d.modelValue),f("onToggle"))}const M={reset:c,validate:u,resetValidation:_};return s(M),b==null||b(M),(S,N)=>{var U;return E(),I("div",{class:G(["var-custom-form-component",{"var-custom-form-component--disabled":r.disabled||((U=e(g))==null?void 0:U.disabled.value),"var-custom-form-component--error":e(l)}])},[q("div",{class:"var-custom-form-component__container",onClick:y},[t(e(_e),{class:"var-custom-form-component__icon",name:r.modelValue?"checkbox-marked-circle":"close-circle",transition:250},null,8,["name"]),Y(S.$slots,"default",{},void 0,!0)]),t(e(ae),{"error-message":e(l),"extra-message":r.extraMessage},null,8,["error-message","extra-message"])],2)}}},Ne=F(Ie,[["__scopeId","data-v-235f566f"]]),Pe={example:"表单示例",username:"请输入用户名",usernameMessage:"用户名不能为空",password:"请输入密码",passwordMessage:"请输入密码",department:"请选择部门",departmentMessage:"必须选一个部门",eat:"吃饭",sleep:"睡觉",play:"打游戏",departmentUnit:"部",group:"请选择组织",groupMessage:"至少选择一个组织",groupUnit:"组",genderMessage:"必须选择一个性别",male:"男",female:"女",rateMessage:"必须大于2",likeMessage:"至少选择一个爱好",licenseMessage:"您必须开启",countMessage:"必须大于10",rangeMessage:"必须大于10",filesMessage:"至少上传一张图片",customFormComponent:"自定义表单组件",customLabel:"点我切换",customErrorMessage:"必须是对勾",customExtraMessage:"附加信息",controller:"表单控制",reset:"清空表单",resetValidation:"清空验证",validate:"触发验证",disabled:"表单禁用",readonly:"表单只读"},Re={example:"Form Example",username:"Please input username",usernameMessage:"The username cannot be empty",password:"Please input password",passwordMessage:"The password cannot be empty",department:"Please select department",departmentMessage:"The select cannot be empty",eat:"Eat",sleep:"Sleep",play:"Play game",departmentUnit:" department",group:"Please select group",groupMessage:"The select cannot be empty",groupUnit:" group",genderMessage:"The gender cannot be empty",male:"Male",female:"Female",rateMessage:"It has to be greater than 2",likeMessage:"The select cannot be empty",licenseMessage:"You must turn on",countMessage:"It has to be greater than 10",rangeMessage:"It has to be greater than 10",filesMessage:"Upload at least one picture",customFormComponent:"Custom Form Component",customLabel:"Click toggle",customErrorMessage:"Please check it",customExtraMessage:"Extra message",controller:"Form control",reset:"Empty form",resetValidation:"Empty the validation",validate:"Trigger validation",disabled:"Form disabled",readonly:"Form readonly"},{add:j,use:Be,pack:o,packs:wa,merge:ha}=xe(),ze=r=>{Se(r),Be(r)};Q("zh-CN",Ue);Q("en-US",$e);j("zh-CN",Pe);j("en-US",Re);const De=r=>(ue("data-v-9da29a7c"),r=r(),me(),r),Le=De(()=>q("div",{class:"space"},null,-1)),Oe={__name:"index",setup(r){const s=se({username:"",password:"",department:"",gender:void 0,license:!1,range:0,count:0,group:[],score:0,like:[],files:[],custom:!1}),p=T(null),d=T(!1),v=T(!1);return re(V=>{var l;ze(V),(l=p.value)==null||l.reset()}),ne(Ce),(V,l)=>(E(),I(de,null,[t(e(h),null,{default:n(()=>[m(i(e(o).example),1)]),_:1}),t(e(x),{ref_key:"form",ref:p,disabled:d.value,readonly:v.value,"scroll-to-error":"start","scroll-to-error-offset-y":"14.4vmin"},{default:n(()=>[t(e(W),{direction:"column",size:["4vmin",0]},{default:n(()=>[t(e(L),{placeholder:e(o).username,rules:[a=>!!a||e(o).usernameMessage],modelValue:s.username,"onUpdate:modelValue":l[0]||(l[0]=a=>s.username=a)},null,8,["placeholder","rules","modelValue"]),t(e(L),{type:"password",placeholder:e(o).password,rules:[a=>!!a||e(o).passwordMessage],modelValue:s.password,"onUpdate:modelValue":l[1]||(l[1]=a=>s.password=a)},null,8,["placeholder","rules","modelValue"]),t(e(O),{placeholder:e(o).department,rules:[a=>!!a||e(o).departmentMessage],modelValue:s.department,"onUpdate:modelValue":l[2]||(l[2]=a=>s.department=a)},{default:n(()=>[t(e(k),{label:`${e(o).eat}${e(o).departmentUnit}`},null,8,["label"]),t(e(k),{label:`${e(o).sleep}${e(o).departmentUnit}`},null,8,["label"]),t(e(k),{label:`${e(o).play}${e(o).departmentUnit}`},null,8,["label"])]),_:1},8,["placeholder","rules","modelValue"]),t(e(O),{multiple:"",placeholder:e(o).group,rules:[a=>a.length>=1||e(o).groupMessage],modelValue:s.group,"onUpdate:modelValue":l[3]||(l[3]=a=>s.group=a)},{default:n(()=>[t(e(k),{label:`${e(o).eat}${e(o).groupUnit}`},null,8,["label"]),t(e(k),{label:`${e(o).sleep}${e(o).groupUnit}`},null,8,["label"]),t(e(k),{label:`${e(o).play}${e(o).groupUnit}`},null,8,["label"])]),_:1},8,["placeholder","rules","modelValue"]),t(e(ve),{rules:[a=>!!a||e(o).genderMessage],modelValue:s.gender,"onUpdate:modelValue":l[4]||(l[4]=a=>s.gender=a)},{default:n(()=>[t(e(A),{"checked-value":1},{default:n(()=>[m(i(e(o).male),1)]),_:1}),t(e(A),{"checked-value":2},{default:n(()=>[m(i(e(o).female),1)]),_:1})]),_:1},8,["rules","modelValue"]),t(e(ge),{rules:[a=>a.length>0||e(o).likeMessage],modelValue:s.like,"onUpdate:modelValue":l[5]||(l[5]=a=>s.like=a)},{default:n(()=>[t(e(w),{"checked-value":1},{default:n(()=>[m(i(e(o).eat),1)]),_:1}),t(e(w),{"checked-value":2},{default:n(()=>[m(i(e(o).sleep),1)]),_:1}),t(e(w),{"checked-value":3},{default:n(()=>[m(i(e(o).play),1)]),_:1})]),_:1},8,["rules","modelValue"]),t(e(ke),{rules:[a=>a>=3||e(o).rateMessage],modelValue:s.score,"onUpdate:modelValue":l[6]||(l[6]=a=>s.score=a)},null,8,["rules","modelValue"]),t(e(Ve),{rules:[a=>!!a||e(o).licenseMessage],modelValue:s.license,"onUpdate:modelValue":l[7]||(l[7]=a=>s.license=a)},null,8,["rules","modelValue"]),t(e(Me),{rules:[a=>a>10||e(o).countMessage],modelValue:s.count,"onUpdate:modelValue":l[8]||(l[8]=a=>s.count=a)},null,8,["rules","modelValue"]),t(e(be),{rules:[a=>a>10||e(o).rangeMessage],modelValue:s.range,"onUpdate:modelValue":l[9]||(l[9]=a=>s.range=a)},null,8,["rules","modelValue"]),t(e(ye),{rules:[a=>a.length>=1||e(o).filesMessage],modelValue:s.files,"onUpdate:modelValue":l[10]||(l[10]=a=>s.files=a)},null,8,["rules","modelValue"])]),_:1}),t(e(h),null,{default:n(()=>[m(i(e(o).customFormComponent),1)]),_:1}),t(e(Ne),{"extra-message":e(o).customExtraMessage,rules:[a=>!!a||e(o).customErrorMessage],modelValue:s.custom,"onUpdate:modelValue":l[11]||(l[11]=a=>s.custom=a)},{default:n(()=>[m(i(e(o).customLabel),1)]),_:1},8,["extra-message","rules","modelValue"])]),_:1},8,["disabled","readonly"]),t(e(h),null,{default:n(()=>[m(i(e(o).controller),1)]),_:1}),t(e(W),{direction:"column",size:["4vmin",0]},{default:n(()=>[t(e(C),{block:"",type:"danger",onClick:l[12]||(l[12]=a=>p.value.reset())},{default:n(()=>[m(i(e(o).reset),1)]),_:1}),t(e(C),{block:"",type:"warning",onClick:l[13]||(l[13]=a=>p.value.resetValidation())},{default:n(()=>[m(i(e(o).resetValidation),1)]),_:1}),t(e(C),{block:"",type:"success",onClick:l[14]||(l[14]=a=>p.value.validate())},{default:n(()=>[m(i(e(o).validate),1)]),_:1}),t(e(C),{block:"",type:"info",onClick:l[15]||(l[15]=a=>d.value=!d.value)},{default:n(()=>[m(i(e(o).disabled),1)]),_:1}),t(e(C),{block:"",type:"primary",onClick:l[16]||(l[16]=a=>v.value=!v.value)},{default:n(()=>[m(i(e(o).readonly),1)]),_:1})]),_:1}),Le],64))}},Fa=F(Oe,[["__scopeId","data-v-9da29a7c"]]);export{Fa as default};
