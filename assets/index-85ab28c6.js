import{c as u}from"./index-bc58714c.js";import{ao as _,ab as k,ah as E}from"./index-ba2bae36.js";import{c as L}from"./components-b4bea23d.js";/* empty css               */const{n:v}=L("ripple"),d=250;function b(e){const{zIndex:t,position:i}=k(e);e.style.overflow="hidden",e.style.overflowX="hidden",e.style.overflowY="hidden",i==="static"&&(e.style.position="relative"),t==="auto"&&(e.style.zIndex="1")}function g(e,t){const{top:i,left:n}=E(e),{clientWidth:p,clientHeight:r}=e,s=Math.sqrt(p**2+r**2)/2,c=s*2,o=t.touches[0].clientX-n,a=t.touches[0].clientY-i,f=(p-s*2)/2,y=(r-s*2)/2,R=o-s,w=a-s;return{x:R,y:w,centerX:f,centerY:y,size:c}}function m(e){const t=this._ripple;if(t.removeRipple(),t.disabled||t.tasker||!u.enableRipple)return;const i=()=>{t.tasker=null;const{x:n,y:p,centerX:r,centerY:s,size:c}=g(this,e),o=document.createElement("div");o.classList.add(v()),o.style.opacity="0",o.style.transform=`translate(${n}px, ${p}px) scale3d(.3, .3, .3)`,o.style.width=`${c}px`,o.style.height=`${c}px`,t.color&&(o.style.backgroundColor=t.color),o.dataset.createdAt=String(performance.now()),b(this),this.appendChild(o),window.setTimeout(()=>{o.style.transform=`translate(${r}px, ${s}px) scale3d(1, 1, 1)`,o.style.opacity=".25"},20)};t.tasker=window.setTimeout(i,30)}function l(){const e=this._ripple,t=()=>{const i=this.querySelectorAll(`.${v()}`);if(!i.length)return;const n=i[i.length-1],p=d-performance.now()+Number(n.dataset.createdAt);window.setTimeout(()=>{n.style.opacity="0",window.setTimeout(()=>{var r;return(r=n.parentNode)==null?void 0:r.removeChild(n)},d)},p)};e.tasker?window.setTimeout(t,30):t()}function h(){if(!_()||!u.enableRipple)return;const e=this._ripple;e.tasker&&window.clearTimeout(e.tasker),e.tasker=null}function x(e,t){e._ripple={tasker:null,...t.value??{},removeRipple:l.bind(e)},e.addEventListener("touchstart",m,{passive:!0}),e.addEventListener("touchmove",h,{passive:!0}),e.addEventListener("dragstart",l,{passive:!0}),document.addEventListener("touchend",e._ripple.removeRipple,{passive:!0}),document.addEventListener("touchcancel",e._ripple.removeRipple,{passive:!0}),document.addEventListener("dragend",e._ripple.removeRipple,{passive:!0})}function T(e){e.removeEventListener("touchstart",m),e.removeEventListener("touchmove",h),e.removeEventListener("dragstart",l),document.removeEventListener("touchend",e._ripple.removeRipple),document.removeEventListener("touchcancel",e._ripple.removeRipple),document.removeEventListener("dragend",e._ripple.removeRipple)}function $(e,t){var p,r,s,c,o,a;const i={color:(p=t.value)==null?void 0:p.color,disabled:(r=t.value)==null?void 0:r.disabled};(i.color!==((s=e._ripple)==null?void 0:s.color)||i.disabled!==((c=e._ripple)==null?void 0:c.disabled))&&(e._ripple={tasker:i.disabled?null:(o=e._ripple)==null?void 0:o.tasker,removeRipple:(a=e._ripple)==null?void 0:a.removeRipple,...i})}const A={mounted:x,unmounted:T,updated:$,install(e){e.directive("ripple",this)}},Y=A;export{Y as v};
